{"version":3,"sources":["api.js","Context/AuthContext.js","logovagalu.png","components/popup.js","pages/login.js","pages/logado.js","pages/id.js","routes.js","App.js","index.js"],"names":["axios","create","baseURL","Context","createContext","AuthProvider","children","useState","buttonPopup","setButtonPopup","authenticated","setAuthenticated","loading","setLoading","a","undefined","login","localStorage","getItem","password","body","api","post","token","data","setItem","JSON","stringify","defaults","headers","Authorization","window","location","replace","setTimeout","useEffect","parse","Provider","value","handleLogin","handleLogout","removeItem","handleBack","Popup","props","trigger","className","onClick","setTrigger","Main","useContext","src","logo","alt","onSubmit","e","preventDefault","type","id","name","onChange","user","target","senha","autoComplete","clients","setClients","get","map","href","nome","style","textDecoration","color","cliente","setCliente","consulta","variavel","canvas","labels","datasets","label","fontSize","fontStyle","borderWidth","borderColor","fill","options","title","display","CustomRoute","isPrivate","path","rest","to","includes","hash","pathname","split","Routes","exact","component","Login","Logado","Id","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.921f18f6.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n    baseURL: 'https://api.elcoma.com.br/api/visits'\n})","import React, { createContext, useState, useEffect} from 'react';\n//import ReactDOM from 'react-dom';\nimport api from '../api';\n\nconst Context = createContext();\n\nfunction AuthProvider({children}){\n  //const {valores} = useContext(Contextotal)\n  const [buttonPopup, setButtonPopup] = useState(false);\n  const [authenticated, setAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(()=>{\n        const token = localStorage.getItem('token');\n        //console.log(token)\n        if(token){\n          //console.log(JSON.parse(token))\n          api.defaults.headers.Authorization = JSON.parse(token);\n          setAuthenticated(true);\n        }\n        setLoading(false);\n      }\n        ,[]);\n  \n  async function handleLogin(){\n    var login = localStorage.getItem('usuario')\n    if(login === undefined || login === null){\n      login = ''\n    }\n    \n    var password = localStorage.getItem('senha')\n    if(password === undefined || password === null){\n      password = ''\n    }\n    \n    var body = {\n      \"username\": login,\n      \"password\": password   \n    };\n    const {data: {token}} = await api.post('/login', body)\n    \n    if(token != null){\n      localStorage.setItem('token', JSON.stringify(token));\n      api.defaults.headers.Authorization = token;\n      //console.log(\"aaaaa\")\n      window.location.replace(\"/\");\n    }else{\n      //Popup Authenticação falhou\n      if(buttonPopup === false){\n        setButtonPopup(true);\n        setTimeout(() => {\n          setButtonPopup(false);\n        }, 3000);\n      }\n    }\n  }\n  \n  function handleLogout(){\n    //authorization como undefined\n    //setTokenb('')\n    localStorage.setItem('usuario', '')\n    localStorage.setItem('senha', '') \n\n    setAuthenticated(false)\n    localStorage.removeItem('token')\n    api.defaults.headers.Authorization = undefined;\n    \n    //redirecionar usuário\n    //console.log(\"Saindo\")\n    window.location.replace(\"/login\");\n  }\n\n  function handleBack(){\n    //authorization como undefined\n    //setTokenb('')\n    localStorage.setItem('id', '')\n\n    //redirecionar usuário\n    //console.log(\"Saindo\")\n    window.location.replace(\"/\");\n  }\n\n  return(\n    <Context.Provider value={{loading, authenticated, buttonPopup, setButtonPopup, handleLogin, handleLogout, handleBack}}>\n      {children}\n    </Context.Provider>\n  )\n}\n\nexport { Context, AuthProvider };","export default __webpack_public_path__ + \"static/media/logovagalu.e15172b9.png\";","import React from 'react';\nimport './popup.css'\n\nfunction Popup(props){\n  return (props.trigger) ? (\n    <div className='popup'>\n      <div className='popup-inner'>\n        <button className='close-button' onClick={() => props.setTrigger(false)}>Close</button>\n        {props.children}\n      </div>\n    </div>\n  ) : \"\";\n}\n\nexport default Popup;\n","import React, { useContext } from 'react';\nimport '../index.css';\n\nimport logo from '../logovagalu.png';\nimport '../App.css';\n\nimport Popup from '../components/popup';\n\nimport { Context } from '../Context/AuthContext';\n\nfunction Main() {\n  \n  const { handleLogin, buttonPopup, setButtonPopup} = useContext(Context);  \n  \n  const handleFormSubmit = e => {\n    e.preventDefault();\n  }\n\n  const handleImputChangeus = e => {\n    var user = e.target.value;\n    localStorage.setItem('usuario', user)\n    //setSenhainput(user);\n\n  }\n  const handleImputChangess = e => {\n    var senha = e.target.value;\n    localStorage.setItem('senha', senha)\n    //setLogininput(senha);\n  }\n  \n  return(\n    <div className='divgrande'>\n    <div className=\"divisao\">\n      <div>\n      <Popup trigger={buttonPopup} setTrigger={setButtonPopup}>\n        <h2>Login/Senha Incorreta</h2>\n      </Popup>\n      </div>\n      <div className=\"todoapp\">\n        \n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      </header>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"textologin\">Username</div>\n        <input\n          type=\"text\"\n          id=\"loginipt\"\n          className=\"input input__lg entrada\"\n          name=\"usuario\"\n          onChange={handleImputChangeus}\n          //autoComplete='off'\n          //value={values.user}\n        />\n        <div className=\"textologin\">Password</div>\n        <input\n          type=\"password\"\n          id=\"senhaipt\"\n          className=\"input input__lg entrada\"\n          name=\"senha\"\n          onChange={handleImputChangess}\n          autoComplete='off'\n          //value={values.password}\n        />\n        <button type=\"button\" className=\"btn btn__primary botaoentrar\" onClick={handleLogin}>\n            Entrar\n        </button>\n      </form>\n    </div>\n    </div>\n    </div>\n    \n  )\n}\n\nexport default Main;","import React , { useContext, useState, useEffect } from 'react';\n//import './logado.css';\nimport api from '../api';\n\nimport {Context} from '../Context/AuthContext';\n\nfunction Main() {\n  const { handleLogout } = useContext(Context);\n  const [clients, setClients] = useState([])\n  useEffect(() => {\n    (async () =>{\n      const {data } = await api.get('/get_clients');\n\n      setClients(data.clients);\n      //console.log(data.clients);\n      //console.log(clients)\n    })();\n  },[])\n\n  return(\n    <div className='system'>\n    <div className='sistema'>\n      <div className='caixa'>\n        <h1>Visão Geral</h1>\n      </div>\n      \n        {\n          clients.map((user) => (\n            \n              <div key={user.id} className='caixa' >\n                <div className='texto' >\n                  <a href={FuncaoClica(user.id, user.name)} style={{ \n                    textDecoration: 'none', \n                    color: 'Black' }} >{user.name} - {user.id}</a>\n                </div>\n            </div>   \n            \n            \n          ))\n        }\n      \n      <p/>\n      <button type=\"button\" onClick={handleLogout}>\n        Sair\n      </button>\n    </div>\n    </div>\n    \n    \n  )\n}\n\nfunction FuncaoClica(id, nome){\n  return '/link/'+ id + '+' + nome;\n}\n\n/*function handleGO(nome, id){\n  localStorage.setItem('nome', nome);\n  localStorage.setItem('id', id)\n  console.log(localStorage.getItem('id'))\n  //window.location.replace(\"/id\")\n}*/\n\nexport default Main;\n","import React , { useContext, useState, useEffect } from 'react';\n//import {Chart} from 'chart.js';\nimport { Line } from 'react-chartjs-2';\n//import '../jquery.min.js';\n//import './id.css';\nimport api from '../api';\n\nimport {Context} from '../Context/AuthContext';\n\nfunction Main() {\n  const { handleLogout, handleBack } = useContext(Context);\n  const [cliente, setCliente] = useState([])\n\n  useEffect(() => {\n    (async () =>{\n      var id = localStorage.getItem('id')\n      //console.log(id)\n      var consulta = '/get_client_data/' + id;\n      const {data } = await api.get(consulta);\n      //console.log(data)\n      setCliente(data);\n      //abc = data.data\n\n      //console.log(cliente.map())\n      //console.log(data.clients);\n      //console.log(clients)\n    })();\n  },[])\n\n  var variavel = localStorage.getItem('nome');\n\n  const data2 = canvas => {\n    //const ctx = canvas.getContext('2d');\n    //const g = ctx.createLinearGradient(...);\n\n    return {\n        labels: [\"10:22\",\"11:22\",\"12:22\",\"13:22\",\"14:22\",\"15:22\",\"16:22\",\"17:22\",\"18:22\",\"19:22\",\"20:22\",\"21:22\"],\n        datasets: [{\n            label: \"Acesso à rede WIFI\",\n            fontSize: 45,\n            fontStyle: \"bold\",\n            borderWidth: 3,\n            borderColor: 'rgba(255, 5, 5, 0.945)',\n            data: cliente.data,\n            fill: true\n            //backgroundColor: g,\n            // ...the rest\n            }],\n        };\n    }\n\n    const opt2 = () => {\n      return {\n        title: {\n          display: true,\n          fontSize: 25,\n          label: \"Relatório de ee\"\n        },\n        labels: {\n          fontStyle: \"bold\"\n        }\n      }\n    }\n\n  return(\n    <div className='system'>\n      <div className='sistema'>\n        <h1>Tabela</h1>\n        <h2>{variavel}</h2>\n        <Line data={data2} options={opt2}/>\n        <button type=\"button\" onClick={handleBack}>\n          Voltar\n        </button>\n        <p>     </p>\n        <button type=\"button\" onClick={handleLogout}>\n          Sair\n        </button>\n      \n      \n      </div>\n    </div>\n    \n    \n    \n  )\n}\n\n/*function FuncaoClica(id){\n  console.log(\"clicado\")\n}*/\n\nexport default Main;\n","import React, { useContext} from 'react';\nimport {BrowserRouter, Switch, Route, Redirect} from 'react-router-dom';\n\n//import Store from './Store/provider'\nimport Login from './pages/login.js';\nimport Logado from './pages/logado.js';\nimport Id from './pages/id';\nimport {Context} from './Context/AuthContext'\n\n//const ContexoMapa = createContext();\n\nfunction CustomRoute({isPrivate, path, ...rest}){\n  //const [id, setId] = useState(-1);\n  //const [nome, setNome] = useState('');\n  const {loading, authenticated} = useContext(Context);\n  //console.log(path)\n\n  if(loading){\n    return <h2>...</h2>\n  }\n\n  if(isPrivate && !authenticated){\n    return <Redirect to='/Login' />\n  }\n\n  if(path==='/Login' && authenticated){\n    return <Redirect to='/' />\n  }\n  //console.log(path)\n  if(path.includes('/link')){\n    //console.log(path)\n    //console.log({...rest})\n    var hash = {...rest}.location.pathname;\n    \n    hash = hash.replace('/link/', '').split('+');\n    \n\n    //console.log(hash)\n    localStorage.setItem('id',hash[0])\n    localStorage.setItem('nome',hash[1])\n  }\n\n  return <Route {...rest} />;\n}\n\nfunction Routes(){\n  return(\n    <BrowserRouter>\n        <Switch>\n          <CustomRoute exact path='/Login'  component={Login}/>\n          <CustomRoute isPrivate exact path=\"/\" component={Logado}/>\n          <CustomRoute isPrivate exact path='/id' component={Id}/>\n          <CustomRoute isPrivate path='/link' component={Id}/>\n        </Switch>\n\n    </BrowserRouter>\n  )\n}\n//export {ContexoMapa};\nexport default Routes;\n\n\n","import React from 'react';\nimport {AuthProvider} from './Context/AuthContext'\nimport Routes from './routes'; \n\n//import logo from './logovagalu.png';\n//import './App.css';\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <Routes/>\n    </AuthProvider>\n    \n  );\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <div>\n    <App />\n  </div>  \n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}